post:
  tags:
    - "Causal Analysis Actions"
  summary: "Gets all Versions of multiple Items that were valid within a time interval."
  operationId: "getVersionsInInterval"
  description: |
    Retrieves all `Version`s of given `Item`s that were legally valid at any point within a specified time interval. The returned list is ordered chronologically (ascending). This batch-enabled endpoint allows efficient retrieval of versions across multiple items in a hierarchy.

    ### Discussion
    This function serves as a critical performance optimization for historical analysis. While `getItemHistory` retrieves the causal *events* (`Action`s), this action retrieves the resulting *states* (`Version`s) within a specific temporal window. By providing this as a server-side primitive with batch support, the API enables an agent to efficiently answer questions like "show all versions of items in this chapter during a specific presidential term."
  security:
    - ApiKeyAuth: []

  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../../schemas/requests/GetVersionsInIntervalRequest.yaml'

  responses:
    '200':
      description: "A time-ordered list (ascending) of Version objects whose validity period overlaps with the specified interval. The list may be empty if no versions match."
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../../schemas/entities/Version.yaml'
    '400':
      $ref: '../../openapi.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
