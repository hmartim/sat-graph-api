get:
  tags:
    - "Deterministic Fetch Actions"
  summary: "Gets all Versions of an Item that were valid at a specific time."
  operationId: "getValidVersions"
  description: |
    This function acts as the unified entry point for determining the normative state. 

  security:
    - ApiKeyAuth: []

  parameters:
    - name: itemId
      in: path
      required: true
      description: "The canonical ID of the Item whose valid versions are being requested."
      schema:
        $ref: '#/components/schemas/ID'
    - name: timestamp
      in: query
      required: true
      description: "The specific UTC date-time for which to check validity."
      schema:
        type: string
        format: date-time
      example: "1999-06-01T12:00:00Z"

  responses:
    '200':
      description: "Successfully retrieved the Version objects valid at the specified time. Returns an array that may contain one or more versions."
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Version'
    '404':
      description: "Not Found - Either the Item with the given ID does not exist, or it existed but had no version that was valid at the specified timestamp."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    '400':
      $ref: '#/components/responses/BadRequest'
    '401':
      $ref: '#/components/responses/Unauthorized'
    '403':
      $ref: '#/components/responses/Forbidden'
